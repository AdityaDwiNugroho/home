<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Aditya Dwi Nugroho - Full-stack Developer">
    <meta name="author" content="Aditya Dwi Nugroho">
    
    <!-- Performance Optimizations -->
    <link rel="preconnect" href="https://www.youtube-nocookie.com" crossorigin>
    <link rel="dns-prefetch" href="https://www.youtube-nocookie.com">
    <meta name="theme-color" content="#0f172a">
    <meta name="color-scheme" content="dark">
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="unsafe-none">
    
    <!-- Critical CSS should be inlined, external CSS loaded async -->
    <link rel="preload" href="./css/styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>    <link rel="dns-prefetch" href="//www.youtube-nocookie.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Critical CSS inline for mobile -->
    <style>
        body { margin: 0; font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif; }
        .hero-title { font-size: clamp(2rem, 6vw, 4rem); text-align: center; margin: 2rem 0; }
        .social-link { display: inline-block; padding: 1rem 2rem; margin: 0.5rem; 
                      background: rgba(255,255,255,0.1); border-radius: 12px; 
                      text-decoration: none; color: white; }
        /* Mobile video optimization */
        @media (max-width: 768px) {
            .video-background iframe { opacity: 0.7; filter: blur(0.5px); }
            .floating-particles { opacity: 0.3; animation-duration: 8s; }
        }
    </style>
    
    <link rel="stylesheet" href="css/styles.css" media="print" onload="this.media='all'; this.onload=null;">
    <noscript><link rel="stylesheet" href="css/styles.css"></noscript></noscript>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš¡</text></svg>">
    
    <title>Aditya Dwi Nugroho</title>
</head>
<body>
    <div class="splash-screen" id="splashScreen">
        <div class="splash-content">
            <div class="splash-logo">
                <div class="logo-circle">
                    <img src="img/cat.jpeg" alt="Profile" class="logo-image">
                </div>
            </div>
            <h1 class="splash-title">Welcome</h1>
            <p class="splash-subtitle">Click to enter and enable audio experience</p>
            <button class="enter-button" id="enterButton">
                <span class="enter-text">Enter</span>
                <div class="enter-ripple"></div>
            </button>
            <div class="splash-particles"></div>
        </div>
    </div>

    <!-- Main Container -->
    <main class="container" role="main" style="display: none;" id="mainContent">
        <!-- Video Background - Desktop only for performance -->
        <div class="video-background" id="videoBackground">
            <!-- YouTube video embed - optimized for performance -->
            <iframe 
                id="backgroundVideo"
                src=""
                frameborder="0" 
                loading="lazy"
                allow="autoplay; encrypted-media" 
                allowfullscreen
                referrerpolicy="strict-origin-when-cross-origin"
                sandbox="allow-scripts allow-same-origin allow-presentation"
                title="Background video">
            </iframe>
            <div class="video-overlay"></div>
        </div>
        
        <!-- Background Music -->
        <div class="audio-background">
            <!-- YouTube ambient music - optimized loading -->
            <iframe 
                id="backgroundMusic"
                style="display: none;"
                src=""
                loading="eager"
                allow="autoplay; encrypted-media; microphone"
                referrerpolicy="strict-origin-when-cross-origin"
                sandbox="allow-scripts allow-same-origin allow-presentation"
                title="Background music">
            </iframe>
        </div>
        
        <!-- Music control button (outside audio-background to avoid pointer-events: none) -->
        <button id="musicToggle" class="music-control" aria-label="Disable music">
            <span class="music-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 3L12 21M8 7L8 17M16 7L16 17M4 10L4 14M20 10L20 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="3" y1="12" x2="21" y2="12" stroke="currentColor" stroke-width="2" opacity="0.5"/>
                    <line x1="1" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2" opacity="0.3"/>
                </svg>
            </span>
            <span class="music-text">Disable Music</span>
        </button>
        
        <!-- Header Section -->
        <header class="hero-section">
            <div class="floating-particles"></div>
            <h1 class="hero-title">
                <span class="title-line">Aditya Dwi Nugroho</span>
                <span class="title-subtitle">Full-stack Developer</span>
            </h1>
            <p class="hero-description">Building modern applications with clean code</p>
        </header>

        <!-- Main Content -->
        <section class="main-content">
            <!-- Links Section -->
            <div class="content-section" style="margin-top: 2rem;">
                <div class="links-grid">
                    <a href="https://github.com/AdityaDwiNugroho" class="social-link">GitHub</a>
                    <a href="https://www.linkedin.com/in/aditya-dwi-nugroho-75057827a" class="social-link">LinkedIn</a>
                    <a href="https://www.instagram.com/allen.adityadn/" class="social-link">Instagram</a>
                    <a href="mailto:aditadit120420@gmail.com" class="social-link">Email</a>
                </div>
            </div>
        </section>
    </main>

    <!-- JavaScript - optimized loading -->
    <script>
        // Critical mobile detection and optimization
        const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
        const isSlowConnection = 'connection' in navigator && (navigator.connection.effectiveType === 'slow-2g' || navigator.connection.effectiveType === '2g');
        
        // Inline critical JS for immediate execution
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js');
            });
        }
        
        // Only preload on fast connections and desktop
        if (!isMobile && !isSlowConnection && 'connection' in navigator && navigator.connection.effectiveType !== 'slow-2g') {
            const link = document.createElement('link');
            link.rel = 'preload';
            link.href = './js/main.js';
            link.as = 'script';
            document.head.appendChild(link);
        }
        
        // Add mobile class for CSS optimizations
        if (isMobile) {
            document.documentElement.classList.add('mobile');
        }
    </script>
    <script src="./js/main.js" defer></script>
</body>
</html>
